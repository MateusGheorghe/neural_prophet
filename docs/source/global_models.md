# Global Modeling

When using NeuralProphet, the user may choose to create models based on a single time series or in a group of them, depending on data availability. In the latter case, the user will train and use the so-called global models. After creating an object of the `NeuralProphet`, a model can be created by calling the `fit` function. Global models can be enabled when the `df` input of the function is a dictionary composed of more than one pandas data frame in the expected format (column `ds`, which has the timestamps, and column `y`, which contains the observed values of the time series). Global models can be normalized either locally or globally. 

## Local normalization
The default fitting of global models is based on local data normalization. Each time series will have data normalization parameters associated with each of the dictionary's keys provided. Ensure you provide data identified with the keys associated with the appropriate train time series. Therefore, suitable normalization data parameters are used in post-fitting procedures (i.e., `predict`, `test`). In case the test data do not have any relation to the train series, local normalization can still be used to fit the model. However, the `unknown_data_normalization` input of the `NeuralProphet` object should be set to True. All post-fitting functions will normalize the test data according to global data parameters. Another setting of local normalization global modeling is the `global_time_normalization`. When set to False, this parameter from the `NeuralProphet` forecaster also considers time data parameters locally.

## Global normalization
Some applications may require that the global model is fitted on data that was globally normalized. In this case, the user should set `global_normalization` to True when instantiating the `NeuralProphet` forecaster. When using global modeling global normalization, the keys of the provided dictionary either for train or test data are ignored.  

## Splitting data for global normalization
Users can also split data before fitting a global model. When a dict is a input for the `split_df` function, train and validation data are provided in similar format type. The input data can be split according to a fraction of the time encopassing the whole dict. Therefore, each of the time series are not necessarily split according to the `valid_p`. If the user wants to split each of the time series exaclty as the `valid_p`, the `local_split` parameter must be set to True. This parameter is specially useful in local normalization when fitting a global model.